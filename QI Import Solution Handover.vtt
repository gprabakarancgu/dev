WEBVTT

f1b9f3e4-6c98-4aa7-8d60-46894b95d782-0
00:00:03.960 --> 00:00:10.320
Started, let me share, let me show.

efea6c1f-a013-452e-be9a-b8059fbd791b-0
00:00:10.320 --> 00:00:18.760
All right, it's doing a little bit more.

6cbe9097-ce37-45f8-a653-cdc22468f22a-0
00:00:26.700 --> 00:00:36.140
So this is the,
this is the diagram I've created for Qi

6cbe9097-ce37-45f8-a653-cdc22468f22a-1
00:00:36.140 --> 00:00:37.320
import.

7a31fe0f-7e20-42da-a0fd-a846e5253211-0
00:00:41.440 --> 00:00:50.566
So currently to import Qi contacts,
credentials and RTO credentials and

7a31fe0f-7e20-42da-a0fd-a846e5253211-1
00:00:50.566 --> 00:01:00.959
pretty much what we're importing into CRM
is the contentious for the contacts and

7a31fe0f-7e20-42da-a0fd-a846e5253211-2
00:01:00.959 --> 00:01:08.057
then there's other reference data like
artios, courses,

7a31fe0f-7e20-42da-a0fd-a846e5253211-3
00:01:08.057 --> 00:01:11.480
units and things like that.

19dd387f-96ac-4fe2-8d4d-12f661e4d5a4-0
00:01:13.320 --> 00:01:23.321
So the tool that we use to insert import
these contacts and credentials into the

19dd387f-96ac-4fe2-8d4d-12f661e4d5a4-1
00:01:23.321 --> 00:01:24.680
CRM is ADF.

999894f1-2a58-44b9-b02c-f21ef316f41d-0
00:01:27.800 --> 00:01:33.100
So,
so the reason that we started looking at

999894f1-2a58-44b9-b02c-f21ef316f41d-1
00:01:33.100 --> 00:01:40.520
sort of alternative tool for ADF is
because it is taking time.

e0c09708-1a6d-4e72-9b28-ae2194a3effd-0
00:01:44.440 --> 00:01:54.539
So the the reason I believe why it's
taking time is it's just the the CRM is

e0c09708-1a6d-4e72-9b28-ae2194a3effd-1
00:01:54.539 --> 00:02:03.983
taking time to insert and the way that
ADF inserts is ADF have this CRM

e0c09708-1a6d-4e72-9b28-ae2194a3effd-2
00:02:03.983 --> 00:02:10.280
connector and then it inserts record by
record.

a335d901-f7db-4d43-9ba4-5b231378a164-0
00:02:10.360 --> 00:02:15.560
So,
So what correct me if I'm wrong Shaman.

95a343d0-d12f-4263-9287-942e03cc2b8b-0
00:02:15.560 --> 00:02:19.960
So what we got is we got hierarchy of
files.

222b7465-5739-4001-ba5d-57b238726e0c-0
00:02:20.680 --> 00:02:27.440
So we got like audio credentials,
contacts and ARN and credentials.

3dcc2d95-091c-475b-b000-83dcfede78db-0
00:02:27.440 --> 00:02:37.437
So we import audio credentials first and
then the contacts and then the Arns and

3dcc2d95-091c-475b-b000-83dcfede78db-1
00:02:37.437 --> 00:02:40.400
finally the credentials.

6c8eb5f9-8ff0-4e25-b8ac-972112a08516-0
00:02:40.880 --> 00:02:43.720
Yeah,
the time take is the copy activity and

6c8eb5f9-8ff0-4e25-b8ac-972112a08516-1
00:02:43.720 --> 00:02:46.560
also the look up that's takes the most
time.

96f3321e-d851-4aee-9688-836d82b31a0a-0
00:02:46.960 --> 00:02:51.733
Yeah, so,
so the way that the ADF work is ADF gets

96f3321e-d851-4aee-9688-836d82b31a0a-1
00:02:51.733 --> 00:02:56.320
each record and then do lookups and then
insert.

3118cdbe-6bf9-41cb-a67a-fd8a66cd3c4a-0
00:02:58.080 --> 00:02:59.240
So lookups take time.

22a4f5da-1ddc-4d0c-bfc2-3e7210c810bb-0
00:02:59.240 --> 00:03:05.691
I believe lookups take time,
but compared to the copy time,

22a4f5da-1ddc-4d0c-bfc2-3e7210c810bb-1
00:03:05.691 --> 00:03:12.680
lookup time is not that significant,
but mainly the insert time.

c0beb478-ea8c-4bdb-b255-10c1474b1226-0
00:03:13.600 --> 00:03:23.960
So what I've POC is CRM also have a batch
API which you can write.

c97746a2-f413-4ef7-af7b-63218399c7ad-0
00:03:24.040 --> 00:03:33.000
You can get chunk of records and dump it
into CRM in a sort of single request.

b5cd141e-9130-44f0-89e8-2b7d41ba03d0-0
00:03:34.520 --> 00:03:41.040
But these requests sort of have, you know,
throttle limits and some limits, right?

236f5de9-ad07-4f7d-8c68-1fab22decae6-0
00:03:41.040 --> 00:03:45.328
So if you Google it, you can,
there's good Microsoft documentation

236f5de9-ad07-4f7d-8c68-1fab22decae6-1
00:03:45.328 --> 00:03:46.480
around the limits.

b7c75417-a4c5-4882-af57-92d437c2e6d5-0
00:03:46.520 --> 00:03:50.923
Generally A batch request only can have
thousand items,

b7c75417-a4c5-4882-af57-92d437c2e6d5-1
00:03:50.923 --> 00:03:56.977
but thousand items again they have
throttling on how long that thousand item

b7c75417-a4c5-4882-af57-92d437c2e6d5-2
00:03:56.977 --> 00:03:58.000
takes, right?

0bef0100-3cd4-4bf6-8578-4a23990b6f51-0
00:03:58.000 --> 00:04:01.400
So if it takes 20 minutes,
I think it starts throttling again.

e38a2646-e969-4940-9174-2371c4786774-0
00:04:02.840 --> 00:04:07.600
So there are there are limits with the
batch API.

86c378a5-5f57-4f4b-8b39-6db690d9b03a-0
00:04:08.760 --> 00:04:14.440
So what I've done pretty much is used to
batch API and then insert records.

88a54846-89fa-41a5-87fd-54d01bcf4f52-0
00:04:15.840 --> 00:04:16.400
So.

b6a8e42e-cbf4-4b3f-8323-21774c67c7f7-0
00:04:17.120 --> 00:04:20.880
So I've changed the format of the files.

d19bf8f0-c4a3-45bb-8d30-f7128350ec13-0
00:04:21.520 --> 00:04:28.554
So instead of having hierarchy of files,
this POC is flattened out,

d19bf8f0-c4a3-45bb-8d30-f7128350ec13-1
00:04:28.554 --> 00:04:30.520
just just one file.

f937da7f-50aa-4be0-84f4-874ff4fa528a-0
00:04:31.120 --> 00:04:32.840
Is that easier for Matt as well?

9d25f38b-ef73-4166-8f36-a9bd678381d8-0
00:04:32.880 --> 00:04:36.240
Matt Barber to yeah,
it would be easier as well.

9bcf689f-d09e-4a38-9d60-ef363682113a-0
00:04:36.240 --> 00:04:40.918
So he'll be dealing with only one file
and that,

9bcf689f-d09e-4a38-9d60-ef363682113a-1
00:04:40.918 --> 00:04:46.266
but there will be some duplicate data
like for example,

9bcf689f-d09e-4a38-9d60-ef363682113a-2
00:04:46.266 --> 00:04:54.096
if contact has two credentials that would
have two rows in that file and would be

9bcf689f-d09e-4a38-9d60-ef363682113a-3
00:04:54.096 --> 00:05:00.493
like most of the data could be similar,
but it's just a, you know,

9bcf689f-d09e-4a38-9d60-ef363682113a-4
00:05:00.493 --> 00:05:07.560
the RTO and the the other IDs will the
the codes will be different, Yeah.

98c171f8-bd85-4c2c-85fe-ac10ce21224b-0
00:05:07.560 --> 00:05:12.107
But this bit of duplicate data,
but it's just a single page to manage a

98c171f8-bd85-4c2c-85fe-ac10ce21224b-1
00:05:12.107 --> 00:05:13.560
single place to manage.

bdad40ea-2cd6-46ce-b957-ee30d37048ec-0
00:05:16.000 --> 00:05:22.120
So what it does is so so I haven't POC
done the integration part.

c7b6ef20-f42c-4c9a-8e48-c3782a75c206-0
00:05:22.200 --> 00:05:32.570
So this is I mean a way of so and the
other challenge with the ADF solution is

c7b6ef20-f42c-4c9a-8e48-c3782a75c206-1
00:05:32.570 --> 00:05:41.760
that we need someone technical with
permissions to run the pipelines.

0ef4ae59-324d-438a-b0df-56e750be15ef-0
00:05:42.720 --> 00:05:43.120
So.

df48f743-ad15-4987-a291-6b15de452cf7-0
00:05:44.120 --> 00:05:50.991
So what I thought would be good is for
business to be able to, you know,

df48f743-ad15-4987-a291-6b15de452cf7-1
00:05:50.991 --> 00:05:57.769
just be able to run it without
interacting with the technical technical

df48f743-ad15-4987-a291-6b15de452cf7-2
00:05:57.769 --> 00:05:58.240
team.

c5eb797e-3872-4fe6-a35d-9cb243a44eff-0
00:05:59.160 --> 00:06:05.840
So what I've sort of proposed here is I
think Deep has other better ideas.

4f7f4853-7433-47c7-9e30-6bd0e87f50d2-0
00:06:06.240 --> 00:06:12.555
When I presented,
it's just pretty much Logic App to listen

4f7f4853-7433-47c7-9e30-6bd0e87f50d2-1
00:06:12.555 --> 00:06:20.240
to file changes and then send approval
request to someone from business.

df3b8e9e-4cf3-4f8b-bef2-9b848199eb34-0
00:06:20.240 --> 00:06:26.376
And when it approves Logic App triggers
the whole flow that sort of the initial

df3b8e9e-4cf3-4f8b-bef2-9b848199eb34-1
00:06:26.376 --> 00:06:26.760
part.

78395849-d1b0-4145-b74f-6aaba2d13de4-0
00:06:26.840 --> 00:06:29.960
That's not the purpose of this POC.

2502be70-3a97-4011-8711-fe2047956a51-0
00:06:30.080 --> 00:06:40.175
The purpose of the POC is get these
records into CRM in a more in a shorter

2502be70-3a97-4011-8711-fe2047956a51-1
00:06:40.175 --> 00:06:40.840
time.

001f9ef7-f63a-41d7-b347-b1134ed3e4c7-0
00:06:44.040 --> 00:06:48.393
So,
so so we so I think in one of my handover

001f9ef7-f63a-41d7-b347-b1134ed3e4c7-1
00:06:48.393 --> 00:06:54.640
sessions before so we had we went through
the file copy solution.

33e80188-6cfe-4b08-b0b7-75ec765bde9f-0
00:06:54.680 --> 00:06:57.760
So file copy solution also uses the
function app.

8f27ef45-d478-407d-b7e2-3a92d861385b-0
00:06:59.880 --> 00:07:04.600
Function app can have many triggers,
so many many functions,

8f27ef45-d478-407d-b7e2-3a92d861385b-1
00:07:04.600 --> 00:07:07.000
a single physical function app.

f23b4bc3-8d64-4f1f-a336-a50097806ca1-0
00:07:07.120 --> 00:07:12.776
So inside the function app you can have
logical function app and function app

f23b4bc3-8d64-4f1f-a336-a50097806ca1-1
00:07:12.776 --> 00:07:14.880
also have different flavours.

231f9942-6077-4955-97a3-7adf5c15ec9f-0
00:07:16.240 --> 00:07:22.280
The the the function of that ID mode
before was just a single function app.

96b2e859-3287-44b6-9475-51dd0e935ee2-0
00:07:22.320 --> 00:07:24.280
Just do one thing and that's it.

a9a69ea8-7b2d-4756-aa9c-e5687848f41e-0
00:07:25.160 --> 00:07:28.440
But this function app is a different.

f4d76301-8ca4-482b-b154-e2701811fb5a-0
00:07:28.600 --> 00:07:31.160
This function app is called durable
functions.

1e2bb7cf-4209-4486-9a7e-0522ac617944-0
00:07:31.840 --> 00:07:40.400
Durable functions have the capability to
fan out and then fan in.

f6f1ee80-aa85-4d11-b06f-027e1ab9e47b-0
00:07:41.640 --> 00:07:47.389
So, so single function,
you have a single trigger and then based

f6f1ee80-aa85-4d11-b06f-027e1ab9e47b-1
00:07:47.389 --> 00:07:52.165
on the logic,
so it can spawn into like thousands and

f6f1ee80-aa85-4d11-b06f-027e1ab9e47b-2
00:07:52.165 --> 00:07:58.976
then on the other end you can say wait
for those thousand to finish and then

f6f1ee80-aa85-4d11-b06f-027e1ab9e47b-3
00:07:58.976 --> 00:08:05.080
continue or do do more work more,
more fan out, do more work, right.

9a2e6d7c-93c5-4c41-ac1c-8950c40d30c7-0
00:08:07.120 --> 00:08:11.577
So what I've done is so in this durable
function,

9a2e6d7c-93c5-4c41-ac1c-8950c40d30c7-1
00:08:11.577 --> 00:08:17.640
So we we have a trigger trigger function
which is the HTTP trigger.

61f3c122-f780-4eea-bd75-a04f8ace0541-0
00:08:17.920 --> 00:08:22.813
So,
so any process can start the start the

61f3c122-f780-4eea-bd75-a04f8ace0541-1
00:08:22.813 --> 00:08:26.000
import using a HTTP request.

de47c499-a569-427f-b15c-f2e7ea64551a-0
00:08:26.520 --> 00:08:31.760
So that's the that's the trigger,
the ones they triggered.

8dac4b86-3f75-490c-b040-77d1ac82c40b-0
00:08:31.760 --> 00:08:35.480
So there's a this is the main engine,
the orchestrator.

ccaf9fc6-c562-48a3-a6c6-64f48e4bff99-0
00:08:35.480 --> 00:08:45.000
So it orchestrate what ADF does with
those multiple files, right.

e031ab9f-af63-4f1d-879f-084eca67558c-0
00:08:45.000 --> 00:08:53.794
So, so anyway, even we have a single file,
those records need to be entered into CRM

e031ab9f-af63-4f1d-879f-084eca67558c-1
00:08:53.794 --> 00:08:55.760
in sequence, right.

7d566543-cafe-4ad6-b4a8-faa3cc5ec574-0
00:08:55.760 --> 00:08:59.320
So you can't really create a credential
without a contact.

7798ca4b-61eb-4e8b-b8df-75a45c1a4e4a-0
00:08:59.480 --> 00:09:02.920
So contacts need to be,
it has to be there, right?

de8f1fd9-f773-44e4-96c0-5393e57364a4-0
00:09:02.920 --> 00:09:04.560
Order, yeah, yeah.

7defc104-817f-4ead-a394-ab250580606c-0
00:09:05.080 --> 00:09:11.760
So, so the first thing it does,
the orchestrator goes and reach the file.

b82431a3-854e-4307-b88b-b9aab291ceda-0
00:09:13.320 --> 00:09:19.145
So it also can read the file in sort of
like batches if the file is like 100,

b82431a3-854e-4307-b88b-b9aab291ceda-1
00:09:19.145 --> 00:09:23.178
000 or 200,
000 amount of records that you can't read

b82431a3-854e-4307-b88b-b9aab291ceda-2
00:09:23.178 --> 00:09:25.120
into memory straight away.

eb3014bc-a9ac-4148-b65c-f9626af8cbaa-0
00:09:25.280 --> 00:09:26.360
So it has that option.

83afbec0-2608-48f2-aea0-d4ae2153a58a-0
00:09:27.200 --> 00:09:30.640
So does that trigger the function app?

368f23c9-c09e-444c-b732-5c4ebc5ec82c-0
00:09:30.640 --> 00:09:32.840
It gets triggered from the Logic app.

5618d705-e70d-4074-b9b8-993621e85f75-0
00:09:32.840 --> 00:09:37.600
Is it so, so, so at the moment,
there's nothing.

6cb8b661-5543-4ea2-8142-9ddf4c55df5d-0
00:09:38.120 --> 00:09:39.040
Nothing's triggering it.

50e04194-c7ed-409f-8dca-c2b6b2bb379e-0
00:09:39.040 --> 00:09:40.240
We manually triggering it.

dbd2a889-98c6-431a-88fb-60c60e4efa05-0
00:09:40.240 --> 00:09:42.040
But this is a proposal, right?

9d181c75-927c-469c-8135-4594ee067a69-0
00:09:42.200 --> 00:09:42.400
OK.

f48c2479-f2ed-4188-8d9a-d4fca0658613-0
00:09:42.760 --> 00:09:48.560
I think Pradeep has different ideas how
to, right.

173bfae9-7e24-4d05-ac44-e66ceaf42f0e-0
00:09:48.560 --> 00:09:52.280
So how, how, how to give business access.

550c4197-f3e3-41e6-8974-3e26b1bfca87-0
00:09:52.280 --> 00:09:54.040
But this part is not done yet.

8695da33-cd48-4495-94f4-53a12e3fa498-0
00:09:54.560 --> 00:09:59.040
OK, So what from below here is what's POC?

26e1b208-3383-45e7-9c3d-71c877c61bba-0
00:09:59.840 --> 00:10:01.120
OK, Yeah, yeah.

c595e608-98fc-4416-bb99-63044f9e64a2-0
00:10:02.440 --> 00:10:08.240
So reads the file and reads the records
into memory, right?

23595cc0-292f-49cd-b01a-e6676c071f28-0
00:10:09.800 --> 00:10:15.018
So what it does is it looks at the record
and so it,

23595cc0-292f-49cd-b01a-e6676c071f28-1
00:10:15.018 --> 00:10:21.320
so orchestrator knows how this file need
to be inserted, right?

3b0c95ac-1a95-49dd-9dee-67d40fff5f07-0
00:10:21.320 --> 00:10:28.060
So it knows that the RTO credential need
to go in first and then contacts and arns

3b0c95ac-1a95-49dd-9dee-67d40fff5f07-1
00:10:28.060 --> 00:10:29.360
likewise, right.

ccfe8652-76b9-4599-be48-e712ec6d9034-0
00:10:30.000 --> 00:10:35.425
So what it what it does is say for
example, there's thousand records,

ccfe8652-76b9-4599-be48-e712ec6d9034-1
00:10:35.425 --> 00:10:38.680
so it reads 1000 record from the CSV file.

8081ec50-e96e-4a96-9710-16e73611e716-0
00:10:39.400 --> 00:10:41.480
So it reads 500.

f4aabd6f-4ab1-4123-a2ff-ce71293b1fc6-0
00:10:43.280 --> 00:10:50.835
And then what it does is of those 500,
it figures out what RTO credentials need

f4aabd6f-4ab1-4123-a2ff-ce71293b1fc6-1
00:10:50.835 --> 00:10:53.480
to be created for those 500.

19784b6e-7d4c-4cb4-ae1c-ff14aaac04d2-0
00:10:54.400 --> 00:10:56.880
So it takes little snippets and extracts.

727f349d-26e8-4999-bf4c-dcfec64ba3c5-0
00:10:57.040 --> 00:10:57.560
That's right.

768248b4-61b4-4a52-b4ab-65de7ab7ef05-0
00:10:57.720 --> 00:10:58.000
Yeah.

2f102681-a9b5-4e73-be2b-1cec513374d1-0
00:10:58.600 --> 00:11:01.669
So,
and then it passes that 500 records into

2f102681-a9b5-4e73-be2b-1cec513374d1-1
00:11:01.669 --> 00:11:03.920
RTO credential importer function.

007445a7-c7f5-41ec-8555-e677819a8967-0
00:11:04.760 --> 00:11:09.009
So what what that does is that can pan
out but,

007445a7-c7f5-41ec-8555-e677819a8967-1
00:11:09.009 --> 00:11:16.269
but for RTO credentials because we don't
have many records where most records are

007445a7-c7f5-41ec-8555-e677819a8967-2
00:11:16.269 --> 00:11:19.280
is in contact ARN and credentials.

3ee7fdc7-3814-4ace-aa15-ff9943148a26-0
00:11:20.280 --> 00:11:24.046
So,
so we have only one instance of RTO

3ee7fdc7-3814-4ace-aa15-ff9943148a26-1
00:11:24.046 --> 00:11:24.800
imports.

ba1c441e-b1ea-4059-bd36-a4b4f4137035-0
00:11:24.800 --> 00:11:28.659
So what it does is like it figures out
for 500,

ba1c441e-b1ea-4059-bd36-a4b4f4137035-1
00:11:28.659 --> 00:11:32.920
there's maybe 50 RTO credentials need to
be created.

b7c90000-801a-494b-a504-48e26ea610ac-0
00:11:34.120 --> 00:11:36.400
Go and create the 50 RTO credentials.

b09a7fd0-f36a-4b15-b2ad-10c51b79e313-0
00:11:36.440 --> 00:11:39.480
It says to the RTO credential importer,
right?

0c354e5c-f63d-4168-8cc8-f1d58bef6f3d-0
00:11:40.120 --> 00:11:46.120
So what it does is it goes and do a batch
request of 50 in a single single request.

e38eaa5f-0987-4974-8ad9-50dab7aa12dd-0
00:11:48.160 --> 00:11:49.920
Before that it does the look up.

3e09b5ed-f47b-41d6-a01f-ffb30d6a8f7d-0
00:11:50.960 --> 00:11:53.560
So you need to look up the RTO.

1abfca77-1e28-4029-8cad-3b7f9c608ea5-0
00:11:54.240 --> 00:12:00.306
So you need to find the RTO GUID and you
define the unit or the whatever

1abfca77-1e28-4029-8cad-3b7f9c608ea5-1
00:12:00.306 --> 00:12:02.800
credential those Guids, right?

d5f9ca82-cd86-4e8d-8240-d49a4b42a29b-0
00:12:02.800 --> 00:12:04.320
That's not a manual process though.

c0546d52-3b96-4260-a6e2-799fbf0d98c5-0
00:12:04.320 --> 00:12:09.560
This is so you could have multiple RT OS
in one.

6e1ebfbd-6180-4fef-ad33-39226ee643b6-0
00:12:09.720 --> 00:12:12.588
Yeah, OK, that's good 'cause yeah,
at the moment it's yeah,

6e1ebfbd-6180-4fef-ad33-39226ee643b6-1
00:12:12.588 --> 00:12:13.640
it's depending on one.

2b8b6eda-e9e7-4616-b839-4ead9b65bd1b-0
00:12:14.080 --> 00:12:22.461
So I think this is where the improvement
comes in the compared to the look up in

2b8b6eda-e9e7-4616-b839-4ead9b65bd1b-1
00:12:22.461 --> 00:12:23.600
ADF, right.

c3ec0a70-c6c2-43bd-8aa0-96fa8268e6aa-0
00:12:23.600 --> 00:12:28.000
So,
So what it does it it it again find the

c3ec0a70-c6c2-43bd-8aa0-96fa8268e6aa-1
00:12:28.000 --> 00:12:32.800
distinct RTOS that it it need to look up
right?

dc2218e2-5651-4930-86f4-42ace95d1b31-0
00:12:32.800 --> 00:12:35.960
For that,
that that 500 records it picked up, right?

f0a787c3-6fda-4d9c-829b-0361be282a67-0
00:12:36.160 --> 00:12:39.468
Yeah,
it's fine for this in memory and and in

f0a787c3-6fda-4d9c-829b-0361be282a67-1
00:12:39.468 --> 00:12:43.712
memory, in memory,
in memory find the So it could be maybe

f0a787c3-6fda-4d9c-829b-0361be282a67-2
00:12:43.712 --> 00:12:44.720
one RTO right.

e81097f8-063f-4486-8cbb-0602829c556b-0
00:12:44.720 --> 00:12:47.600
In that 500 records, it could be two,
right?

a80482c5-272b-440d-88c3-0d1807197e79-0
00:12:47.600 --> 00:12:49.880
So it's a normal general numbers, right.

3ed774e6-3eec-4716-9afc-4a776c021d51-0
00:12:50.400 --> 00:12:55.240
And then credentials maybe oh units it
could be like 10, right.

f77cade5-3c17-4302-aaaf-e6cb552adbbd-0
00:12:55.240 --> 00:13:03.138
So it does a batch get,
it gets those IDs past IDs to the copy

f77cade5-3c17-4302-aaaf-e6cb552adbbd-1
00:13:03.138 --> 00:13:13.167
the insert request and then it goes and
creates the RTO credentials and returns

f77cade5-3c17-4302-aaaf-e6cb552adbbd-2
00:13:13.167 --> 00:13:15.800
in the same response.

e8128536-3250-4313-b2c9-689ac81e3a17-0
00:13:15.800 --> 00:13:23.449
The batch response you get like say for
example 5050 RTO credentials need to be

e8128536-3250-4313-b2c9-689ac81e3a17-1
00:13:23.449 --> 00:13:27.752
inserted,
so it gets 50 IDs back and then it

e8128536-3250-4313-b2c9-689ac81e3a17-2
00:13:27.752 --> 00:13:33.011
returns the the Guids of the RTOS,
Guids of the units,

e8128536-3250-4313-b2c9-689ac81e3a17-3
00:13:33.011 --> 00:13:40.756
Guids of the RTO credentials back to the
orchestrator and orchestrator remembers

e8128536-3250-4313-b2c9-689ac81e3a17-4
00:13:40.756 --> 00:13:42.000
it in memory.

2c4e4c08-00d5-4cc4-8d97-ef6b6edcf5dd-0
00:13:42.680 --> 00:13:44.880
It says, yeah, this is the RTO.

88616dc4-e2ea-46db-b17c-2982ab43baab-0
00:13:44.880 --> 00:13:47.720
They're being stored in the in the in the
lake.

14251815-6e64-4378-9050-977a1f726d4b-0
00:13:48.160 --> 00:13:48.280
Yeah.

b08183b3-4116-4e86-abaf-3980d8a6ddae-0
00:13:49.160 --> 00:13:51.520
But yeah,
because it's been stored in memory, Yeah.

c199747a-2cb9-4232-924a-7df6eef5cd00-0
00:13:51.520 --> 00:13:53.720
So I think that's the advantage, right,
Shamin?

79880a52-8bd3-4bbb-a06e-415b8df8f958-0
00:13:53.720 --> 00:13:59.113
So, so late you had to read Go,
you had another that says HTTP request to

79880a52-8bd3-4bbb-a06e-415b8df8f958-1
00:13:59.113 --> 00:14:00.280
fetch it, right.

ceb6c80d-137c-42c0-bfcb-5545cc1db311-0
00:14:00.920 --> 00:14:06.920
And it does for pretty much every record,
right, for subsequent files.

a061b3b1-b8a8-4742-8ce0-d294492c11e6-0
00:14:06.920 --> 00:14:08.120
So this doesn't do it.

e6b2e35a-49f5-4de2-b351-68d15fe4dd6a-0
00:14:08.120 --> 00:14:14.360
It's it's in memory very quick storage
and comes back.

025747b7-7c07-4243-81db-83fcd195f0c3-0
00:14:15.760 --> 00:14:21.701
So the contact importer is sorry Dinuka,
what if something fails in that process,

025747b7-7c07-4243-81db-83fcd195f0c3-1
00:14:21.701 --> 00:14:27.352
like in between when it is processing and
in between like 20th record or 30th

025747b7-7c07-4243-81db-83fcd195f0c3-2
00:14:27.352 --> 00:14:31.409
record fails,
Does the execution stops there or does it

025747b7-7c07-4243-81db-83fcd195f0c3-3
00:14:31.409 --> 00:14:34.960
log which record has failed and it just
returns?

ed0bce94-63d6-4b80-b776-3338413502ae-0
00:14:35.400 --> 00:14:38.117
Yeah,
it it it returns the record that has

ed0bce94-63d6-4b80-b776-3338413502ae-1
00:14:38.117 --> 00:14:38.560
failed.

3af8c1e8-614d-4b41-aa2a-f662fad73323-0
00:14:38.960 --> 00:14:42.120
OK, yeah,
but it doesn't stop the execution.

c7b87451-1276-4383-a4c0-cd9584e25eb0-0
00:14:42.120 --> 00:14:43.640
No, it doesn't stop the execution.

da7e9c0a-e1c2-4968-b7d9-003c589bf021-0
00:14:43.960 --> 00:14:50.186
So so for So for example if there is a
record with mistyped RTO code,

da7e9c0a-e1c2-4968-b7d9-003c589bf021-1
00:14:50.186 --> 00:14:56.056
so then RTO is not found,
then it will record error saying RTO is

da7e9c0a-e1c2-4968-b7d9-003c589bf021-2
00:14:56.056 --> 00:14:58.280
not found for that OK or.

a1e6e3f6-9293-41f0-a07b-5b4b030bbdad-0
00:14:58.280 --> 00:15:05.080
Or like the batch imports say we've done
50 for some reason 1 failed in CRM, right?

97e05b00-48ea-4d4a-8594-ff1cd049a8bd-0
00:15:05.120 --> 00:15:06.960
CRM doesn't fail the whole thing.

d3273109-47a0-4819-aa28-e0aa936eee2e-0
00:15:07.120 --> 00:15:14.200
CRM will say 5049 inserted and 1 failed.

ac14210f-c32d-442d-acd4-9aa18fe28ef0-0
00:15:14.640 --> 00:15:17.080
We can grab the paired error.

e617f702-6502-4c1c-80c9-40edb430abe5-0
00:15:17.520 --> 00:15:18.040
OK yeah.

053c6b66-ea91-4601-80e8-285d82a5e7c3-0
00:15:18.600 --> 00:15:26.000
Would it potentially fail at each part of
these sequences like if if yeah OK.

688b9c33-8e0e-4d17-9f10-8506e0ccb277-0
00:15:26.280 --> 00:15:32.598
And then the error message would then be
stored somewhere and then is it stored in

688b9c33-8e0e-4d17-9f10-8506e0ccb277-1
00:15:32.598 --> 00:15:33.360
the logic?

a1e3b250-2922-46a7-a8cf-8a4451eccf4e-0
00:15:33.880 --> 00:15:35.760
Like where does the error get stored?

a1df943a-3bc9-4c7e-84e9-ea4b276503e2-0
00:15:36.240 --> 00:15:38.160
So this is this is what's left right?

d713f6f6-eaaf-4ea3-829b-91cd8e551662-0
00:15:38.160 --> 00:15:46.081
So this is apoc so so so 50% of the the
error handling and coding is completed,

d713f6f6-eaaf-4ea3-829b-91cd8e551662-1
00:15:46.081 --> 00:15:53.804
but this need I would say 50% more work
to make it production nice and nicely

d713f6f6-eaaf-4ea3-829b-91cd8e551662-2
00:15:53.804 --> 00:16:01.527
nice error handling and and what game you
also want to have is sort of like a

d713f6f6-eaaf-4ea3-829b-91cd8e551662-3
00:16:01.527 --> 00:16:02.320
preview.

7809269f-a182-4731-9c08-caa9475e7a2a-0
00:16:03.320 --> 00:16:09.980
Run these records and instead of
inserting do a validation check and just

7809269f-a182-4731-9c08-caa9475e7a2a-1
00:16:09.980 --> 00:16:13.760
return response, which this can do, right?

1108370c-25c7-4d10-a435-74ccf247e93d-0
00:16:13.760 --> 00:16:21.133
So it can do import the data validation
and then could do a look up validation

1108370c-25c7-4d10-a435-74ccf247e93d-1
00:16:21.133 --> 00:16:24.680
and then return sort of like a report.

3d561b5b-de3d-47fd-9248-4e63222c66a8-0
00:16:24.680 --> 00:16:26.240
So that hasn't been done.

319cdd1c-fdf4-4500-88bc-79382f9ddd9c-0
00:16:26.560 --> 00:16:31.920
But this is pretty much at still POC
level, 50% done.

32b5b5ef-050f-4bff-a707-4e415cffd93a-0
00:16:32.760 --> 00:16:36.400
But the basic stuff is handled.

1d19eda6-36cb-4298-8fb5-34dc47d89e22-0
00:16:36.520 --> 00:16:40.811
So as I explained,
if there's a error in one of those

1d19eda6-36cb-4298-8fb5-34dc47d89e22-1
00:16:40.811 --> 00:16:42.640
records, it it returns.

0483f3fa-ed16-4150-ad8d-8fc50f71d336-0
00:16:42.640 --> 00:16:45.000
But we need to log nicely.

615c34c6-1b2d-4198-8fb1-640ebb3c5218-0
00:16:45.480 --> 00:16:46.640
Yeah, put it somewhere.

fdaae1db-70ae-47fa-8b18-4c15e845751e-0
00:16:46.720 --> 00:16:49.303
Yeah,
somewhere like like what you say business

fdaae1db-70ae-47fa-8b18-4c15e845751e-1
00:16:49.303 --> 00:16:49.680
can go.

a6198eed-4f66-4f37-92b7-1fd22a0f0910-0
00:16:50.080 --> 00:16:52.460
Oh, OK,
'cause we realistically wanna be as hands

a6198eed-4f66-4f37-92b7-1fd22a0f0910-1
00:16:52.460 --> 00:16:55.080
off as possible so that they can do their
own cheques.

8a945ff4-4805-43fb-9ba9-b48866a0b93c-0
00:16:55.240 --> 00:16:55.680
Yeah, yeah.

0518c3e2-9d1c-4d50-886c-029595f1f3ad-0
00:16:56.160 --> 00:16:59.852
To keep it simple,
I would do the same thing as ADF does for

0518c3e2-9d1c-4d50-886c-029595f1f3ad-1
00:16:59.852 --> 00:17:00.760
handling right.

20c70dce-82f0-4936-a3ea-c4b6620941f4-0
00:17:00.760 --> 00:17:05.513
So just try to the same thing then we
don't have to go away from listen,

20c70dce-82f0-4936-a3ea-c4b6620941f4-1
00:17:05.513 --> 00:17:09.160
then it'll be too much of A change for
business, right?

d4fb9b0e-582a-4960-b667-01af6376377a-0
00:17:09.160 --> 00:17:12.400
We changing the input file and we
changing outputs and everything.

4ebdc342-7e04-4de0-a399-f24a6bacb1e4-0
00:17:12.400 --> 00:17:16.720
But we can keep the same way as ADF for
handling outputs.

14db5ea8-db2b-4fe9-a00c-70f116278047-0
00:17:17.960 --> 00:17:23.862
Yeah, so, so for contacts, so,
so like if I get 500, I mean,

14db5ea8-db2b-4fe9-a00c-70f116278047-1
00:17:23.862 --> 00:17:30.249
there's likely there's at least
percentage wise 304 hundred to be

14db5ea8-db2b-4fe9-a00c-70f116278047-2
00:17:30.249 --> 00:17:31.120
inserted.

c0c62d49-56f3-4146-82af-93fbacf60172-0
00:17:31.240 --> 00:17:39.514
They could be like you know some records
with some individuals with more than one

c0c62d49-56f3-4146-82af-93fbacf60172-1
00:17:39.514 --> 00:17:44.560
creatures but more mostly the the batch
are used.

5adf4f7a-b9a3-4507-88ed-ae4a9a888e88-0
00:17:46.760 --> 00:17:48.760
Most of the contacts need to be inserted.

e330bde2-6468-499b-b061-6c109f752285-0
00:17:48.760 --> 00:17:53.640
So this is where this panning out happens
right?

d5f16a21-7d57-4183-89eb-e97564055e3b-0
00:17:53.680 --> 00:18:05.938
So say 500 ask to be inserted if you
wanted to further improve the time so you

d5f16a21-7d57-4183-89eb-e97564055e3b-1
00:18:05.938 --> 00:18:07.800
can fan out.

b0f523d6-bb1d-4ab8-92d3-35ba8c1c5fcb-0
00:18:07.920 --> 00:18:13.200
So currently the fan out is set to three
parallel batch batch inserts.

13ea0a4f-46be-4302-a58a-160ae6a6ee35-0
00:18:14.880 --> 00:18:19.200
So you can do 500 * 3500.

21665e28-08e6-4ea3-845b-dda7cc2d8baa-0
00:18:19.280 --> 00:18:25.905
I think you can go up to 5 because the
reason is it needs to be some sort of a

21665e28-08e6-4ea3-845b-dda7cc2d8baa-1
00:18:25.905 --> 00:18:27.080
tuning, right?

3d90b52e-d23a-4f51-a70c-3f4977677fa8-0
00:18:27.080 --> 00:18:34.339
So that tuning hasn't been done to the
limit where database start getting

3d90b52e-d23a-4f51-a70c-3f4977677fa8-1
00:18:34.339 --> 00:18:35.320
throttled.

ebd1827f-e000-4d16-94f8-4398bc5472c0-0
00:18:37.160 --> 00:18:41.120
So,
so you can push that tweak that N number

ebd1827f-e000-4d16-94f8-4398bc5472c0-1
00:18:41.120 --> 00:18:46.840
to a point where it starts seeing
throttling, throttling errors.

d54b01bb-097a-42d0-94fd-aeab92348f02-0
00:18:46.880 --> 00:18:49.872
I mean, if you get,
if it start throttling,

d54b01bb-097a-42d0-94fd-aeab92348f02-1
00:18:49.872 --> 00:18:55.380
there's no point of pushing beyond that
boundary because it only gets slower and

d54b01bb-097a-42d0-94fd-aeab92348f02-2
00:18:55.380 --> 00:18:57.760
then then improving the throughput.

fe24b1c7-16dd-4d22-be0c-2022c0712bad-0
00:19:00.240 --> 00:19:03.080
So and then so same, same as before.

23ddd01c-9db4-48c2-af2e-fb4eedae2059-0
00:19:04.240 --> 00:19:07.680
So I think contact from my memory,
there's nothing to look up.

1b1bdf8f-a70a-44ce-8c98-a715f2927243-0
00:19:07.920 --> 00:19:13.099
It just cheques whether the contact,
it uses the combination of the first name,

1b1bdf8f-a70a-44ce-8c98-a715f2927243-1
00:19:13.099 --> 00:19:16.530
last name,
email address and it cheques do a look up

1b1bdf8f-a70a-44ce-8c98-a715f2927243-2
00:19:16.530 --> 00:19:19.120
of whether those contacts already exist.

e996e367-9b84-4cde-a752-fd4674001a79-0
00:19:20.000 --> 00:19:21.560
That's the only look up it does.

dd71f3e3-9c34-45e5-bc42-4ae1f3b28f49-0
00:19:21.560 --> 00:19:28.768
It doesn't have any other reference data
and it returns the contact IDs continues

dd71f3e3-9c34-45e5-bc42-4ae1f3b28f49-1
00:19:28.768 --> 00:19:29.560
to go on.

d8d850f6-877c-45f3-aaa9-ae8b30555979-0
00:19:33.520 --> 00:19:39.120
Yeah, So,
so when the other thing that so say for

d8d850f6-877c-45f3-aaa9-ae8b30555979-1
00:19:39.120 --> 00:19:44.720
example 500 get passed into the contact
importer.

5e7a2d03-d5ac-4fd7-b480-b29aa5228e7d-0
00:19:47.960 --> 00:19:55.240
So we wanted to batch it to fan out right
500 into further batches, say,

5e7a2d03-d5ac-4fd7-b480-b29aa5228e7d-1
00:19:55.240 --> 00:19:59.628
say for simplicity,
we say 2 batches right,

5e7a2d03-d5ac-4fd7-b480-b29aa5228e7d-2
00:19:59.628 --> 00:20:02.920
222 paralleling parallel imports.

98a34af3-cb32-4e14-a40d-1bab2ef6c23f-0
00:20:04.200 --> 00:20:08.552
So,
so one thing that we need to be make sure

98a34af3-cb32-4e14-a40d-1bab2ef6c23f-1
00:20:08.552 --> 00:20:15.175
that so when we in start inserting,
So what we do is distinct, right,

98a34af3-cb32-4e14-a40d-1bab2ef6c23f-2
00:20:15.175 --> 00:20:22.840
distinct of contact to make sure that we
don't try to insert duplicate contacts.

5ad7d4c1-8753-43a6-bfff-4ea6ad984bb4-0
00:20:25.600 --> 00:20:28.480
But so when you do in parallel.

bd7adb17-1de1-4118-8231-09928dd0a435-0
00:20:28.840 --> 00:20:33.120
You need to make sure the parallel jobs
does not have mini split.

e2705a42-9104-4c93-abba-08e760bea1a9-0
00:20:33.760 --> 00:20:41.235
It doesn't have same contact duplicated
as well because otherwise 2 processes,

e2705a42-9104-4c93-abba-08e760bea1a9-1
00:20:41.235 --> 00:20:48.899
2 processes will try to insert the same
contact and then it could error or could

e2705a42-9104-4c93-abba-08e760bea1a9-2
00:20:48.899 --> 00:20:51.360
result in duplicate error.

ffdf7397-497b-41b1-8c81-b6fcc2fccf1f-0
00:20:54.960 --> 00:20:56.720
So ARN is the same.

db0f120b-11ca-435b-9d4d-8cd353dcdd64-0
00:20:56.720 --> 00:21:06.680
So once the contact ID is returned so
you'll go to the ARN and again to ARN.

13471a12-a133-4046-8526-0ee396ff0223-0
00:21:08.200 --> 00:21:14.501
As I said,
RTO ID and that reference IDs are already

13471a12-a133-4046-8526-0ee396ff0223-1
00:21:14.501 --> 00:21:16.760
there in in memory.

d481d78f-cbf9-4227-a696-14ee857e3cbe-0
00:21:16.920 --> 00:21:20.991
So it it doesn't need to to to do any
look UPS,

d481d78f-cbf9-4227-a696-14ee857e3cbe-1
00:21:20.991 --> 00:21:26.080
only look up it needs to do is they are
in itself is there.

32907f54-6a5e-40ea-a6fc-ca4772f7c644-0
00:21:26.360 --> 00:21:30.869
So that that's done you think using I
think the RN code,

32907f54-6a5e-40ea-a6fc-ca4772f7c644-1
00:21:30.869 --> 00:21:37.120
whatever that unique ID is the one that
that, that yeah, same for credentials.

d12c1379-e0d9-465e-82e5-d281199bde81-0
00:21:37.120 --> 00:21:41.589
So credentials then when it reached the
client,

d12c1379-e0d9-465e-82e5-d281199bde81-1
00:21:41.589 --> 00:21:49.132
because we already run everything before
and one thing like before we start this

d12c1379-e0d9-465e-82e5-d281199bde81-2
00:21:49.132 --> 00:21:54.439
orchestration process with a batch,
we ordered the data.

1fe6bdb1-5534-441b-a830-68e6c37d4563-0
00:21:57.040 --> 00:22:05.000
So ordering helps with batching and
splitting pretty much batching, right?

2d762f27-3a43-4353-9185-752a0c1b44b7-0
00:22:05.080 --> 00:22:15.209
Batching because because then if you have
a contact somewhere in index 5 and then

2d762f27-3a43-4353-9185-752a0c1b44b7-1
00:22:15.209 --> 00:22:21.880
the same contact existing index maybe 200,
index 200.

0da36a1a-ac91-490b-873c-4a1322ee6846-0
00:22:22.480 --> 00:22:27.341
So you wanted them close together fitting
into the same batch because otherwise

0da36a1a-ac91-490b-873c-4a1322ee6846-1
00:22:27.341 --> 00:22:28.800
duplicates again, right?

cd16f4b2-4a66-47dd-997c-cd46a2618280-0
00:22:32.200 --> 00:22:34.600
Yeah, that's, that's pretty much it.

1f90f41c-e615-46f1-93f2-bd8e3996a680-0
00:22:35.840 --> 00:22:36.480
It does.

a982f67a-29ef-4e4a-9d0e-f6fc0846377f-0
00:22:38.160 --> 00:22:44.499
So I think I did a demo of 500 cardio
credentials,

a982f67a-29ef-4e4a-9d0e-f6fc0846377f-1
00:22:44.499 --> 00:22:53.448
so including inserting RTO credentials,
contacts, ARNS and credentials,

a982f67a-29ef-4e4a-9d0e-f6fc0846377f-2
00:22:53.448 --> 00:22:56.680
500 rows of the flat file.

e1fb218f-1b75-475b-a29b-607c9915b4db-0
00:22:57.080 --> 00:22:57.360
Yeah.

98f233f3-66a0-41d8-89d9-f67df374883d-0
00:22:57.360 --> 00:23:01.520
500 rows of the flat file was 300 half
minutes.

6ab810a0-ec1e-4c0d-b3fa-22e8aa96d6ae-0
00:23:02.320 --> 00:23:03.400
3 1/2 minutes.

f73043f0-9455-4d37-8719-7cae20420d6a-0
00:23:03.440 --> 00:23:03.760
Yeah.

56a4e20c-52a1-439e-ba24-784332d17314-0
00:23:04.120 --> 00:23:05.720
That's significant improvement.

9ccdbc5c-957b-4ac1-904f-d5962e4dca2c-0
00:23:06.480 --> 00:23:06.920
Yeah.

b93f44b2-15ec-49f5-a33c-7801ac662585-0
00:23:07.520 --> 00:23:09.400
So normally, how long does it take?

06dd6de8-b7ad-470a-9eac-cef217ee1442-0
00:23:10.240 --> 00:23:11.720
Hours Always.

39efc2ac-3c83-4368-b293-928bba362adf-0
00:23:11.920 --> 00:23:12.920
OK, Yeah.

d07f3de2-a161-4985-8f5a-cdaa22d07668-0
00:23:14.360 --> 00:23:18.760
So we can we can push further depending
on how far we're going to push.

86022733-8cb6-4394-8086-2d39306fc370-0
00:23:20.240 --> 00:23:22.400
So I should mention this as well.

df342275-3fcf-4c79-85df-8a6b7bd6c4c7-0
00:23:22.720 --> 00:23:26.120
So if, if, if we start getting throttled.

8fd599d8-6dbe-4b10-b885-caf351f33620-0
00:23:26.800 --> 00:23:32.292
So in in CRM,
the throttling is per the the the user

8fd599d8-6dbe-4b10-b885-caf351f33620-1
00:23:32.292 --> 00:23:35.920
account that we use to insert data.

313373f5-04f7-4f7a-b422-fb7e51e44863-0
00:23:37.720 --> 00:23:41.260
So we use,
we don't use a interactive user,

313373f5-04f7-4f7a-b422-fb7e51e44863-1
00:23:41.260 --> 00:23:44.480
we use the app registration and in here.

53f74640-8e0f-42f2-9a0e-5b2f0c191446-0
00:23:46.400 --> 00:23:51.935
So you could use if you'd really want to
push the limits,

53f74640-8e0f-42f2-9a0e-5b2f0c191446-1
00:23:51.935 --> 00:23:57.280
you could use multiple appraisations to
fan out, right?

3c829ea0-88ef-4719-8b7b-65b07e6b13bb-0
00:23:57.840 --> 00:24:01.576
So then you won't,
I mean you double if you have two

3c829ea0-88ef-4719-8b7b-65b07e6b13bb-1
00:24:01.576 --> 00:24:04.960
appraisations, your throughput double S,
right?

84a57efe-1b5e-4f9d-852d-abc261d81f7e-0
00:24:04.960 --> 00:24:07.840
So that's only if you really want to push
it.

21b7d82e-3587-4770-ad01-9dbf04441114-0
00:24:10.960 --> 00:24:12.760
I think that's sort of the idea.

c516e0e7-a152-491a-a7e1-65dc0b4ccf18-0
00:24:15.120 --> 00:24:22.240
The codebase let me stop and share my
browser.

6c97f4d4-1340-4e61-b50c-33325175bce9-0
00:24:36.790 --> 00:24:43.510
So codebase is in git.

d8a1f910-95b6-4df1-8584-72f572fab47d-0
00:24:54.680 --> 00:25:04.805
If you go to the same place as where the
file import function is,

d8a1f910-95b6-4df1-8584-72f572fab47d-1
00:25:04.805 --> 00:25:14.010
there's a there's a import POC branch is
where the code is.

fad671ae-2b28-46da-b050-2d2f0de23bbe-0
00:25:23.370 --> 00:25:27.690
Sorry, wrong, wrong report.

578c3316-47b1-4c06-8991-4788fea9219c-0
00:25:27.690 --> 00:25:34.993
So you should be going to the Integration
Services report any import function is

578c3316-47b1-4c06-8991-4788fea9219c-1
00:25:34.993 --> 00:25:38.600
where I've done a push on on this event.

259c06c6-cf2b-43fc-bf41-996380d64fd2-0
00:25:38.680 --> 00:25:42.480
I think that AD current ADF 1 is in draw.

bdbb8eb2-81c7-4877-982b-a48d684a7680-0
00:25:44.160 --> 00:25:44.800
Oh, OK.

845e581e-3a12-4110-a499-ffa1f4b38a6d-0
00:25:45.960 --> 00:25:46.640
Yeah.

acb52cce-ca50-4d1d-ba9c-a1cb3bb33b71-0
00:25:48.240 --> 00:25:52.743
So I think all the integration services
is going to go in here,

acb52cce-ca50-4d1d-ba9c-a1cb3bb33b71-1
00:25:52.743 --> 00:25:57.599
but I think maybe you guys can,
if you want to store it differently,

acb52cce-ca50-4d1d-ba9c-a1cb3bb33b71-2
00:25:57.599 --> 00:25:59.640
you guys can talk to Pradeep.

9cbf61d7-b5ed-4abc-892c-bcab9591ab12-0
00:26:03.000 --> 00:26:06.280
And this is this is the function app.

80db7f7a-8f70-4d84-8660-7511de6faf06-0
00:26:08.600 --> 00:26:16.400
Function app, Yeah.

544877e2-b5aa-4f1c-b9d3-463f74006b17-0
00:26:16.400 --> 00:26:23.350
So,
so this is import stuff we used in here

544877e2-b5aa-4f1c-b9d3-463f74006b17-1
00:26:23.350 --> 00:26:25.720
batch imported.

88c694d2-fa8d-4996-a3db-b7ab055fd253-0
00:26:27.280 --> 00:26:29.760
So this is the these are the function
apps.

ccb89457-4641-4c90-982f-1edf0cd73114-0
00:26:29.760 --> 00:26:32.960
I was talking about the trigger.

9af5160f-d52d-4dc5-a3bb-77f028601d46-0
00:26:36.720 --> 00:26:38.920
This is the trigger that I was talking
about.

0297bd52-cbea-4d15-a991-54027b99c8bc-0
00:26:38.920 --> 00:26:40.640
And this is the orchestrator.

6b5a0a08-eb22-4366-a511-29529924cfd0-0
00:26:40.640 --> 00:26:48.200
So trigger is very simple is so it's it's
it's not cleaned up code POC level, right?

1bfb9f23-5f91-41ad-966c-ced2b0d48118-0
00:26:48.200 --> 00:26:54.865
So this is the once the request is
received, it starts,

1bfb9f23-5f91-41ad-966c-ced2b0d48118-1
00:26:54.865 --> 00:27:04.388
starts the orchestration like this, sorry,
like 952 and orchestrator is the one

1bfb9f23-5f91-41ad-966c-ced2b0d48118-2
00:27:04.388 --> 00:27:07.840
that's all the orchestration.

0afe39c0-e330-4179-ab78-9324ced40850-0
00:27:07.840 --> 00:27:08.720
You can see.

33ee7e20-ccbe-40ed-9958-7f32e5309dc3-0
00:27:11.080 --> 00:27:19.343
It does read the file,
start the file reader and then audio

33ee7e20-ccbe-40ed-9958-7f32e5309dc3-1
00:27:19.343 --> 00:27:21.960
credential imports.

02d78c8a-5170-451f-b3d7-ccb7208cd38d-0
00:27:23.040 --> 00:27:32.923
So you can see batches and so you can see
once it's inserted,

02d78c8a-5170-451f-b3d7-ccb7208cd38d-1
00:27:32.923 --> 00:27:44.560
it goes and set inputs and it's does some
sorting as well and filtering.

20a503fd-3bda-424b-b835-9ad960276af7-0
00:27:47.400 --> 00:27:51.400
Likewise,
the full orchestration is there's some,

20a503fd-3bda-424b-b835-9ad960276af7-1
00:27:51.400 --> 00:27:53.240
I did some refactoring.

06e07237-c51b-4698-a5ea-14d30aaaad0c-0
00:27:53.240 --> 00:27:57.036
So I left,
I still left the the sort of code cleanup

06e07237-c51b-4698-a5ea-14d30aaaad0c-1
00:27:57.036 --> 00:28:01.120
need to happen,
but I wouldn't go through the full code.

0f1b1322-f267-42c9-9ed4-e7da2e5c5578-0
00:28:01.120 --> 00:28:07.170
This needsaproper.
net developer to to have a look to,

0f1b1322-f267-42c9-9ed4-e7da2e5c5578-1
00:28:07.170 --> 00:28:10.360
to finish the implementation.

5899693f-6c9a-423c-ab72-ed56620e6aac-0
00:28:12.840 --> 00:28:16.099
Yeah,
so the orchestration does that and this

5899693f-6c9a-423c-ab72-ed56620e6aac-1
00:28:16.099 --> 00:28:17.800
is the credentials part.

632add0f-2c8c-4dfc-9c52-663ef649c3f3-0
00:28:17.920 --> 00:28:28.369
So credential import at the end and then
it just measures some time how how long

632add0f-2c8c-4dfc-9c52-663ef649c3f3-1
00:28:28.369 --> 00:28:33.400
it took for the whole thing to execute.

c60e7e55-2d40-43cc-8fd5-6a491304ab60-0
00:28:33.640 --> 00:28:41.080
And then file reader and batch imported
like we had different importers, right?

1b3b1cc7-14ee-4966-8134-dfe4adba4a5d-0
00:28:41.720 --> 00:28:48.870
But the batch importers sort of have a
single function template,

1b3b1cc7-14ee-4966-8134-dfe4adba4a5d-1
00:28:48.870 --> 00:28:51.400
but different services.

fb251b32-72df-435c-a04d-887850c0943c-0
00:28:51.920 --> 00:28:56.851
So see,
it creates a different services depending

fb251b32-72df-435c-a04d-887850c0943c-1
00:28:56.851 --> 00:28:59.120
on the invocation type.

234076a4-f19b-4e95-81b2-8b9c4c4dd310-0
00:28:59.880 --> 00:29:04.840
And then that's the import like the RTO
creation importer, contact importer.

7ffeb482-5f12-4107-aa09-39e99d746744-0
00:29:05.360 --> 00:29:09.320
So these sort of like a generic,
generic function.

a9f9ec07-b6bf-4211-ab27-49a0abf03290-0
00:29:09.320 --> 00:29:16.755
But so if you go to the services,
you can see so all the code,

a9f9ec07-b6bf-4211-ab27-49a0abf03290-1
00:29:16.755 --> 00:29:21.240
all the logic to insert is in in this.

5b1340d9-d6d1-4ff2-a14b-497d84a35ac7-0
00:29:21.640 --> 00:29:26.597
So for example,
if you go to audio credential service,

5b1340d9-d6d1-4ff2-a14b-497d84a35ac7-1
00:29:26.597 --> 00:29:28.400
you can see it does.

0e8fe880-873f-4208-8db5-59560c84c6cf-0
00:29:28.960 --> 00:29:30.800
So this is the initial look up.

65bab77c-a8fc-43f7-9977-524e04048680-0
00:29:33.320 --> 00:29:39.040
So it does some filtering and distinct
records and things like that.

56773c78-cdb9-40c6-adaa-442b5987559f-0
00:29:40.560 --> 00:29:47.812
And it gets accounts that's reading the
Rtos, reading the qualifications,

56773c78-cdb9-40c6-adaa-442b5987559f-1
00:29:47.812 --> 00:29:52.320
reading units,
and it does a batch batch get.

2d70bce9-d5fc-41e8-86b8-e125ec88280f-0
00:29:53.200 --> 00:30:00.373
So once it's got it back,
it assigns IDs into the, the correct one,

2d70bce9-d5fc-41e8-86b8-e125ec88280f-1
00:30:00.373 --> 00:30:03.960
the the one that requires that ID.

cb8d0bcd-6ad6-4d7f-aaa5-33a770081cad-0
00:30:05.400 --> 00:30:08.960
And then it do audio credential look up
again.

e0e604c6-302d-45d6-aeb5-6c94d472a2f3-0
00:30:08.960 --> 00:30:10.520
It's it's it's a batch.

091594e2-fa7c-4792-8a61-04064cf67c28-0
00:30:14.160 --> 00:30:21.046
Once that's done,
then it does the batching set of the Rd

091594e2-fa7c-4792-8a61-04064cf67c28-1
00:30:21.046 --> 00:30:25.440
operations, the to do record failure.

c6479865-65a2-4579-9a7e-57d85a4666eb-0
00:30:25.440 --> 00:30:28.080
They just placeholders for capturing
errors.

c8221c26-891b-4dbe-b5d2-4847b57f7d9d-0
00:30:28.520 --> 00:30:28.960
Yeah.

d2be8267-34d0-49b9-84a7-fee0b14da7cd-0
00:30:28.960 --> 00:30:33.280
So as I said that the error handling is
not complete.

93555d7c-0c6e-4893-8819-a7c0144b8115-0
00:30:33.480 --> 00:30:40.673
So it it needs a lot of improvements,
but it's designed to continue with

93555d7c-0c6e-4893-8819-a7c0144b8115-1
00:30:40.673 --> 00:30:41.560
failures.

905dca78-b2e4-4c1b-b317-0c579f56c6cc-0
00:30:43.200 --> 00:30:45.200
It won't it won't crash out.

1454c46a-5f26-4075-b245-f92b9d6103a0-0
00:30:45.400 --> 00:30:50.355
So,
so you can see like when it comes to

1454c46a-5f26-4075-b245-f92b9d6103a0-1
00:30:50.355 --> 00:30:56.520
somewhere here, see it, it,
it drives some errors.

1cd65551-a76b-4422-a7b2-82fb97a9ae0f-0
00:30:57.480 --> 00:31:06.214
So it audio credential record paired with
this yeah import,

1cd65551-a76b-4422-a7b2-82fb97a9ae0f-1
00:31:06.214 --> 00:31:10.000
but no response was found.

9dfdde10-46ea-4b74-b003-bc6b0bbcad6a-0
00:31:10.000 --> 00:31:14.400
So it it does some errors, but yeah.

6425b820-edc2-4bed-94dd-6792f4de4997-0
00:31:14.400 --> 00:31:16.520
So you're handling customised code.

06f88ca5-be44-4f00-a4be-27d4716e5442-0
00:31:16.520 --> 00:31:18.120
This is not like out of the box.

05f3d99f-a3fc-437c-bdcb-4d7a2314bf8c-0
00:31:18.360 --> 00:31:19.200
No, no, no.

9984fc0b-699e-4068-92b0-2c2538712aef-0
00:31:19.360 --> 00:31:20.600
I wrote all this code.

5e05c370-68e5-4db0-8508-dc8e79ce3fd0-0
00:31:21.120 --> 00:31:23.926
Yeah,
I was gonna say this doesn't look like

5e05c370-68e5-4db0-8508-dc8e79ce3fd0-1
00:31:23.926 --> 00:31:24.800
your standard.

4e345adf-9248-4bb9-9158-feed42581311-0
00:31:25.600 --> 00:31:28.080
Yeah, this this is the thing, right.

4e675c6d-24e0-4076-916c-5cf97e8896ef-0
00:31:28.080 --> 00:31:32.520
So if you wanted to have quick times,
you need to write code.

ffc69e53-0c1d-43b4-889a-681bad0e44e2-0
00:31:32.600 --> 00:31:33.760
Yeah, you do 100.

00732f8c-84c9-48b4-a890-ad1086f6b7fd-0
00:31:33.920 --> 00:31:34.600
Yeah, agree.

1d7c8060-d923-40ce-a97a-5280af2dd589-0
00:31:36.320 --> 00:31:37.840
So all the services are here.

e8402d93-ed44-45a4-9c0b-2eeeef527be3-0
00:31:40.400 --> 00:31:44.576
As I said,
I think the other thing that I wanted I

e8402d93-ed44-45a4-9c0b-2eeeef527be3-1
00:31:44.576 --> 00:31:50.964
was planning to do with this once it's
sort of in a production steady rate is

e8402d93-ed44-45a4-9c0b-2eeeef527be3-2
00:31:50.964 --> 00:31:55.960
use the same mechanism that you guys use
Shaman to test you.

0e84729a-9782-4e07-b9f1-57b8f1378d4c-0
00:31:56.080 --> 00:32:00.341
You guys sort of have a reconciliation
sort of tool, right,

0e84729a-9782-4e07-b9f1-57b8f1378d4c-1
00:32:00.341 --> 00:32:03.040
to see whether the records are copied.

0bd3f05a-6767-4873-a9b5-e2e8b76d4b71-0
00:32:05.440 --> 00:32:07.960
It's just a, it's just a Power BI look up.

1770c77a-0f84-45a5-a2e4-c87c241d01c7-0
00:32:08.080 --> 00:32:11.785
Yeah, it's,
it's just like you would with using the

1770c77a-0f84-45a5-a2e4-c87c241d01c7-1
00:32:11.785 --> 00:32:17.413
API just to kind of look up what's in
SharePoint versus what's in Dynamics and

1770c77a-0f84-45a5-a2e4-c87c241d01c7-2
00:32:17.413 --> 00:32:19.480
then just doing a zero check.

f792efe0-ea8d-4bdf-8c12-69aee4688e82-0
00:32:19.600 --> 00:32:20.720
Yeah, yeah.

8719eea3-6cab-4a7f-8002-4bf71c937a13-0
00:32:21.080 --> 00:32:24.844
So maybe we could, I mean,
once it's ready,

8719eea3-6cab-4a7f-8002-4bf71c937a13-1
00:32:24.844 --> 00:32:31.433
I was thinking that maybe we could use
the same Power BI to look at the new,

8719eea3-6cab-4a7f-8002-4bf71c937a13-2
00:32:31.433 --> 00:32:35.883
new file,
CSV file and then just do some sort of a,

8719eea3-6cab-4a7f-8002-4bf71c937a13-3
00:32:35.883 --> 00:32:37.680
you know, zero check.

35197ddf-1dc3-4e2d-a5d8-7ff493460826-0
00:32:37.880 --> 00:32:43.040
Yeah, in the future,
large sample of of data as well.

6cbc8f48-291d-4ca1-8384-64f9669d3d21-0
00:32:43.680 --> 00:32:44.000
Yeah.

17f21f2d-c4f1-4356-bb8b-f16d67429c5a-0
00:32:45.480 --> 00:32:50.360
And replicate the 24 hours that we did
the we've already got that.

8415a2b0-d685-4a4c-b681-67bc3ffcc307-0
00:32:53.280 --> 00:32:55.320
So the pipeline is already there.

eb14b6cf-e0e5-48f0-ab03-aa017156ee3f-0
00:32:55.680 --> 00:33:08.440
It's deploying to B to C sorry B in Azure,
but Azure need some work as well.

b17ac122-f82a-446e-9a02-752822d990fb-0
00:33:08.440 --> 00:33:10.960
So so so we already have the function app.

d6737539-2fec-42d8-8a81-8a14ee877da3-0
00:33:11.800 --> 00:33:20.880
You already have the appraisations but
there were some access requirements.

6b02aff4-7160-4308-9746-3970b61701b3-0
00:33:23.480 --> 00:33:29.523
We have service accounts,
but I had proxy issues in in, in,

6b02aff4-7160-4308-9746-3970b61701b3-1
00:33:29.523 --> 00:33:31.840
in in the function app.

e08cdb5f-defb-495d-b3fb-feabcb8fe1b3-0
00:33:32.800 --> 00:33:37.921
I think you guys need to can't recall
what all those errors were,

e08cdb5f-defb-495d-b3fb-feabcb8fe1b3-1
00:33:37.921 --> 00:33:44.440
but you need to sort of it it it deploys
at the moment it deploys the code it runs,

e08cdb5f-defb-495d-b3fb-feabcb8fe1b3-2
00:33:44.440 --> 00:33:48.320
but because of the connectivity issues,
it fails.

8c4cf11c-354d-4d76-b5c3-34e90105eaab-0
00:33:49.320 --> 00:33:54.259
So the way I sort of ran to demo is from
my machine,

8c4cf11c-354d-4d76-b5c3-34e90105eaab-1
00:33:54.259 --> 00:33:58.920
but you can run it from the function app
as well.

17cdf3a0-4b5b-43d1-8cff-9e23d15425e6-0
00:33:58.920 --> 00:34:03.636
Function app sort of have a simulator
that you can run it in this way on your

17cdf3a0-4b5b-43d1-8cff-9e23d15425e6-1
00:34:03.636 --> 00:34:04.120
machine.

a7a174df-d158-49c6-8da2-0058b65635d1-0
00:34:05.240 --> 00:34:09.120
So that's that's that's how I did the
testing.

5be7253a-47a1-4eb3-9ccb-f96d41014611-0
00:34:09.840 --> 00:34:18.360
But eventually you need to get that into
into into Azure and and run from there.

89013794-eeea-4fb3-bf06-db8bcc41aa66-0
00:34:22.320 --> 00:34:24.640
OK, I think that's it.

2973b912-5ae2-4a6d-b53d-01afd681a46f-0
00:34:24.640 --> 00:34:32.080
And we are over time definitely need help
with that proxy stuff because I know it's

2973b912-5ae2-4a6d-b53d-01afd681a46f-1
00:34:32.080 --> 00:34:33.320
can be tricky.

0211cdec-5b61-4624-ad11-6f46c59bef12-0
00:34:34.440 --> 00:34:40.776
Yeah, I think yeah, that, that,
that that is, I think it's,

0211cdec-5b61-4624-ad11-6f46c59bef12-1
00:34:40.776 --> 00:34:42.360
it's a service.

6e618a44-e8b4-4970-9bde-7888ce88b59f-0
00:34:42.360 --> 00:34:46.456
I can't,
I can't remember whether it because this,

6e618a44-e8b4-4970-9bde-7888ce88b59f-1
00:34:46.456 --> 00:34:50.311
this,
this file copy needs access to SharePoint

6e618a44-e8b4-4970-9bde-7888ce88b59f-2
00:34:50.311 --> 00:34:52.400
as well as yeah, database.

04c9ffd6-38d9-47d6-a543-4b6d312df130-0
00:34:52.520 --> 00:34:53.720
Database is fine.

eec582b8-8fa6-4799-8778-bf1b71b0dcfb-0
00:34:55.960 --> 00:35:00.841
Function app can talk to database, Yeah,
because we already have that those

eec582b8-8fa6-4799-8778-bf1b71b0dcfb-1
00:35:00.841 --> 00:35:02.640
connectivity parts in it up.

728c04a6-dc09-4bc4-9465-ca2f2f60a45b-0
00:35:02.640 --> 00:35:10.623
I think from my memory the issue was
reaching the SharePoint because in the

728c04a6-dc09-4bc4-9465-ca2f2f60a45b-1
00:35:10.623 --> 00:35:15.560
gateway, yeah, yeah,
we need the gateway help.

df9a706e-641d-42a8-a9b7-df3bbfa6131b-0
00:35:15.720 --> 00:35:21.800
Yeah, that's pretty much it, guys.

2a21f898-6328-4666-abb0-96ac086974b5-0
00:35:21.840 --> 00:35:23.960
Let me know if you have any questions.

ca19c788-d9a3-450f-a25b-05fd74c96a73-0
00:35:26.840 --> 00:35:27.240
Yeah.

e9f04b03-24d9-41ae-bd54-6840705b9e4b-0
00:35:27.320 --> 00:35:29.320
So as I said, this is only 50% done.

68867d49-c6c0-4ac1-9e64-efee285c0838-0
00:35:29.320 --> 00:35:32.680
So some someonewith.
net skills need to complete this.

10a640ea-a48a-46dd-adba-ef09dd582f1a-0
00:35:34.040 --> 00:35:34.720
That's not me.

5d366531-21f2-4e01-9d47-16db21663d7d-0
00:35:36.920 --> 00:35:37.440
Thank you.

1cc451e0-35d4-46f9-a26f-c652153fce54-0
00:35:37.440 --> 00:35:38.320
I appreciate that.

6e307856-73c0-45e2-bd2e-e9ee86d0b5ad-0
00:35:38.400 --> 00:35:39.080
That's really good.

9c5fa95b-5341-4d89-9426-553e6b7cdff8-0
00:35:39.080 --> 00:35:43.520
And it's 3 1/2 minutes versus 24 hours is
a huge improvement.

043aefdb-245f-41c3-b9ce-ac73cde8a2fc-0
00:35:47.160 --> 00:35:48.080
Yeah, cool.

36ac84e6-6fd6-4b13-8b7f-809615364a36-0
00:35:48.080 --> 00:35:50.760
All right, I'll you guys go.

e09246cd-f77e-4ee0-9102-969b9975002b-0
00:35:51.560 --> 00:35:52.120
Thank you so much.

a23af02e-ca69-4af5-b7d3-66cf2ffbb8cb-0
00:35:52.400 --> 00:35:53.000
Thank you very much.

9034f681-6043-4ba8-8cf3-f1b2792a22b9-0
00:35:54.240 --> 00:35:54.760
Yes, bye.